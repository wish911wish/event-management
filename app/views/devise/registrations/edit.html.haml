= render "./shared/header"
%body.main
  %H1.text-center.create-event__title ユーザー情報編集
  .container.max-w.mb-2
    .row
      .col-12
        = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
          = devise_error_messages!
          .field.mb-2.image-field.text-center
            .text-left プロフィール画像
            = f.label :image, class: "mx-auto" do
              .image-preview
                .image-display-area
                  = fa_icon 'plus-square 4x'
                  = image_tag current_user.image

            = f.file_field :image, class: "js-upload-image"
            = f.hidden_field :image_cache
          .field.mb-2
            = f.label :name do
              ユーザー名
            = f.text_field :name, class: "form-control", autofocus: true, autocomplete: "name"
          .field.mb-2
            = f.label :email do
              e-mail
            = f.email_field :email, class: "form-control", autofocus: true, autocomplete: "email"
          - if devise_mapping.confirmable? && resource.pending_reconfirmation?
            %div
              Currently waiting confirmation for: #{resource.unconfirmed_email}
          .field.mb-2
            = f.label :password do
              パスワード (変更しない場合は空白のまま)
            = f.password_field :password, class: "form-control", autocomplete: "new-password"
          .field.mb-2
            = f.label :password_confirmation do
              確認用パスワード
            = f.password_field :password_confirmation, class: "form-control", autocomplete: "new-password"
          .field.mb-2
            = f.label :current_password do
              現在のパスワード
            = f.password_field :current_password, class: "form-control", autocomplete: "current-password"
          .actions
            = f.submit "Update", class: "btn w-100 participation-btn"
= render "./shared/footer"
